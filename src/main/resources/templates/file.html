<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>이미지 업로드</title>
</head>
<script>
    async function uploadImage() {
        const fileInput = document.getElementById("imageInput");
        if (fileInput.files.length === 0) {
            alert("이미지를 선택하세요.");
            return;
        }

        const file = fileInput.files[0];
        const arrayBuffer = await file.arrayBuffer();  // 파일을 바이너리 데이터로 변환

        fetch("http://localhost:8081/image/upload", {
            method: "POST",
            headers: {
                "Content-Type": "application/octet-stream"
            },
            body: arrayBuffer
        })
            .then(response => response.text())
            .then(result => alert(result))
            .catch(error => console.error("업로드 실패", error));
    }
</script>
<body>
<h2>이미지 업로드 테스트</h2>
<input type="file" id="imageInput" accept="image/*">
<button onclick="uploadImage()">이미지 업로드</button>
</body>
</html>